<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>demo</title>
</head>

<body>
    hello,world!!
    <script src="./tmp/index.js"></script>
    <script>
        var data = {
            menu: [{
                label: "未分类",
                id: "x1",
                children: [{
                    label: "未分类.jm",
                    path: "c:/path/xxx/未分类.jm",
                    id: "x2",
                }]
            }, {
                label: "分类1",
                id: "x2",
                children: [{
                    label: "分类1.jm",
                    path: "c:/path/xxx/分类1.jm",
                    id: "x4",
                }, {
                    label: "分类2",
                    id: "x5",
                    children: [{
                        label: "分类1.jm",
                        path: "c:/path/xxx/分类1.jm",
                        id: "x6"
                    }]
                }]
            }],
            reflex: {
                "未分类.jm": "menu.0.children.0",
                "分类1.jm": "menu.1.children.0",
                "分类2.jm": "menu.1.children.1.children.0",
            }
        }
        var store = new MenuStore(data);
        //元素操作========================================================
        //查找=============
        let fileInfo = store.getInfoByFileName("未分类.jm");
        console.log("fileInfo", fileInfo)
            //新增=============
        console.log("add前", store.getStore())
        store.add("你好啊.jm", "menu.0.children");
        console.log("add后", store.getStore())


        //删除
        // console.log("remove前", store.getStore())
        // store.removeByName("你好啊.jm");
        // console.log("remove后", store.getStore())


        //数组操作===================================================

        //添加目录
        console.log("add前", store.getStore())
        store.addGroup("menu下的目录", "menu");
        console.log("add后", store.getStore())



        store.add("解码.jm", "menu.2.children");
        store.add("解码2.jm", "menu.2.children");
        console.log("add后", store.getStore())
            //删除目录
        console.log("remove前", store.getStore())
            //删除目录后，内部的文件移动到未知目录下，也就是menu[0].children下面
        store.removeGroup("menu下的目录");
        console.log("remove后", store.getStore())
    </script>
</body>

</html>